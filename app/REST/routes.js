module.exports = (app, log) => {
    /********************************************** Area Wrapper object *****************************************************/
    var Routes = {
        /****************************************** Find Areas **********************************************/
        RetrieveRoutes: (callback) => {
			require("../models/routes").find({}, (e, r) => {
				e ?
                    callback(e, null) :
                    callback(null, r);
			});
        }
    };
    /*************************************************************************************************************/
    
    app
    /************************************************** Request Routes ******************************************/
    .get('/api/Routes', (request, response) => {
        Routes.RetrieveRoutes((error, routes) => {
            response.json({Routes : routes, Error : error});
        });
    })
    /*************************************************************************************************************/
    
    /******************************************** Catch Exceptions ***********************************************/
    process.on('uncaughtException', (e) => {
        log.error(e.stack);
    });
    /*************************************************************************************************************/
};